<script lang="ts">
	import ImagePlane from '$lib/components/utils/ImagePlane.svelte';
	import Meta from '$lib/components/utils/Meta.svelte';
	import Plane from '$lib/components/utils/Plane.svelte';
	import { fitContain, fitCover } from '$lib/renderer';
	import {
		float,
		Fn,
		uv as _uv,
		vec4,
		texture as _texture,
		If,
		Var,
		mix,
		step,
		saturation
	} from 'three/tsl';
	import logo from '$lib/assets/madebyquent.in.svg';
	import projects from '$lib/data/projects';
	import Anchor from '$lib/components/utils/Anchor.svelte';
	import { chunkArray } from '$lib/helpers';
	import ProjectText from '$lib/components/ProjectText.svelte';
	import TextSeparator from '$lib/components/utils/SeparatorText.svelte';
	import { MediaQuery } from 'svelte/reactivity';
	import TextWrap from '$lib/components/utils/WrapText.svelte';
	import TextSVG from '$lib/components/utils/VectorText.svelte';
	import creativeSrc from '$lib/assets/creative.svg';
	import meSrc from '$lib/assets/me.svg';
	import ideasSrc from '$lib/assets/ideas.svg';
	import starSrc from '$lib/assets/star.svg';
	import { fontSizeHeading } from '$lib/style';
	import OverflowMarquee from '$lib/components/utils/OverflowMarquee.svelte';

	const title = 'Home';
	const description = 'Welcome to your creative Svelte template.';
</script>

<Meta {title} {description} />

<section class="flex flex-col gap-12 lg:gap-6">
	<div class="flex flex-col gap-y-2 {fontSizeHeading} leading-none font-medium">
		<h1>
			<span class="flex flex-wrap gap-y-1">
				<span class="-mr-[0.25em] whitespace-nowrap"
					>made
					<span
						class="-ml-[0.15em] inline-block rounded-full pr-[0.4em] pl-[0.275em] leading-[0.9] tracking-[-0.1em] outline-2 outline-black sm:outline-3"
						>by</span
					></span
				>
				<span
					class="relative z-1 after:absolute after:top-1/2 after:left-[0.1em] after:-z-1 after:h-[0.6em] after:w-[0.6em] after:-translate-y-1/2 after:rounded-full after:bg-white"
					>quent.in</span
				>
			</span>

			<!-- <TextSVG text="quent.in" /> -->
		</h1>
		<!-- <TextWrap is="h2" class="gap-y-2" text="Creative developer" />
		  -->
		<h2 class="flex flex-col gap-y-2">
			<span class="flex h-[1em] items-center">
				<img class="w-[5.5em]" src={creativeSrc} alt="Creative" />
				<!-- <svg
					width="5.5em"
					class="-mt-[0.0em]"
					viewBox="0 0 54 13"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<g clip-path="url(#clip0_17_25)">
						<path
							d="M8.53002 9.98002C8.30002 10.38 8.02002 10.76 7.70002 11.11C7.38002 11.46 7.02002 11.77 6.63002 12.03C6.24002 12.29 5.82002 12.5 5.38002 12.65C4.93002 12.8 4.47002 12.88 4.00002 12.88C3.18002 12.88 2.49002 12.73 1.92002 12.42C1.35002 12.11 0.900021 11.69 0.580021 11.16C0.260021 10.63 0.0700212 10 0.0200212 9.29002C-0.0299788 8.57002 0.0500212 7.81002 0.280021 6.99002C0.490021 6.23002 0.790021 5.51002 1.20002 4.84002C1.60002 4.16002 2.08002 3.57002 2.62002 3.07002C3.16002 2.57002 3.76002 2.17002 4.42002 1.87002C5.08002 1.57002 5.76002 1.43002 6.47002 1.43002C7.03002 1.43002 7.48002 1.55002 7.82002 1.79002C8.16002 2.03002 8.40002 2.34002 8.55002 2.71002C8.70002 3.08002 8.76002 3.49002 8.72002 3.93002C8.69002 4.37002 8.58002 4.80002 8.40002 5.21002C8.18002 5.69002 7.92002 6.09002 7.62002 6.42002C7.32002 6.74002 7.00002 7.01002 6.66002 7.21002C6.32002 7.41002 5.98002 7.56002 5.64002 7.65002C5.30002 7.74002 4.97002 7.78002 4.67002 7.78002C4.37002 7.78002 4.07002 7.71002 3.81002 7.56002C3.55002 7.41002 3.35002 7.21002 3.21002 6.95002C3.07002 6.69002 3.00002 6.39002 3.01002 6.04002C3.01002 5.69002 3.13002 5.32002 3.35002 4.93002C3.52002 4.63002 3.72002 4.37002 3.97002 4.14002C4.22002 3.91002 4.47002 3.72002 4.75002 3.57002C5.03002 3.42002 5.31002 3.30002 5.59002 3.22002C5.87002 3.14002 6.14002 3.10002 6.39002 3.10002C6.57002 3.10002 6.72002 3.13002 6.86002 3.18002C7.00002 3.24002 7.11002 3.31002 7.21002 3.40002C7.31002 3.49002 7.39002 3.59002 7.46002 3.69002C7.52002 3.80002 7.57002 3.90002 7.60002 4.01002L7.46002 4.12002C7.40002 3.91002 7.29002 3.72002 7.12002 3.54002C6.95002 3.36002 6.71002 3.28002 6.39002 3.28002C6.17002 3.28002 5.93002 3.33002 5.69002 3.42002C5.45002 3.52002 5.22002 3.65002 5.00002 3.83002C4.78002 4.01002 4.57002 4.23002 4.38002 4.48002C4.18002 4.74002 4.02002 5.02002 3.88002 5.34002C3.80002 5.52002 3.73002 5.73002 3.67002 5.99002C3.61002 6.25002 3.60002 6.50002 3.63002 6.73002C3.67002 6.96002 3.77002 7.16002 3.94002 7.33002C4.11002 7.50002 4.38002 7.58002 4.74002 7.58002C5.08002 7.58002 5.39002 7.52002 5.67002 7.39002C5.95002 7.26002 6.22002 7.08002 6.47002 6.85002C6.72002 6.62002 6.94002 6.34002 7.15002 6.02002C7.35002 5.70002 7.54002 5.35002 7.72002 4.98002C7.87002 4.64002 7.98002 4.28002 8.05002 3.89002C8.12002 3.50002 8.12002 3.13002 8.05002 2.79002C7.98002 2.45002 7.82002 2.17002 7.58002 1.94002C7.34002 1.71002 6.98002 1.60002 6.51002 1.60002C5.90002 1.60002 5.32002 1.75002 4.76002 2.06002C4.20002 2.36002 3.69002 2.77002 3.23002 3.29002C2.77002 3.81002 2.36002 4.40002 2.01002 5.07002C1.66002 5.74002 1.38002 6.45002 1.18002 7.18002C0.970021 7.95002 0.880021 8.66002 0.890021 9.32002C0.910021 9.98002 1.04002 10.54 1.29002 11.02C1.54002 11.5 1.91002 11.88 2.41002 12.15C2.91002 12.42 3.52002 12.56 4.26002 12.56C4.75002 12.56 5.20002 12.47 5.63002 12.3C6.05002 12.13 6.44002 11.91 6.79002 11.65C7.14002 11.39 7.44002 11.1 7.71002 10.79C7.97002 10.48 8.19002 10.19 8.37002 9.91002L8.55002 9.97002L8.53002 9.98002Z"
							fill="black"
						/>
						<path
							d="M12.0901 11.21V11.39H9.33008V11.21H9.75008C9.91008 11.21 10.0401 11.16 10.1401 11.06C10.2401 10.96 10.2901 10.83 10.2901 10.67V3.71001C10.2901 3.55001 10.2401 3.42001 10.1401 3.32001C10.0401 3.22001 9.91008 3.17001 9.75008 3.17001H9.33008V2.99001H12.7301C12.9701 2.99001 13.2401 3.02001 13.5301 3.09001C13.8201 3.16001 14.1001 3.27001 14.3501 3.44001C14.6101 3.60001 14.8201 3.82001 14.9901 4.10001C15.1601 4.38001 15.2501 4.72001 15.2501 5.14001C15.2501 5.56001 15.1601 5.90001 14.9901 6.18001C14.8201 6.46001 14.6001 6.68001 14.3501 6.84001C14.0901 7.00001 13.8201 7.12001 13.5301 7.19001C13.2401 7.26001 12.9701 7.29001 12.7301 7.29001H12.6701C13.1701 7.29001 13.6001 7.41001 13.9501 7.64001C14.3001 7.88001 14.6101 8.17001 14.8801 8.52001C15.1501 8.87001 15.4101 9.25001 15.6601 9.66001C15.9101 10.07 16.1901 10.45 16.4901 10.8C16.7901 11.15 17.1601 11.45 17.5801 11.68C18.0001 11.91 18.5101 12.03 19.1201 12.03C19.4601 12.03 19.7601 12 20.0301 11.95C20.3001 11.9 20.5401 11.81 20.7501 11.71C20.9601 11.61 21.1501 11.49 21.3201 11.35C21.4901 11.21 21.6401 11.07 21.7901 10.92L21.8601 11.08C21.6801 11.3 21.4801 11.48 21.2501 11.64C21.0201 11.8 20.7801 11.93 20.5301 12.04C20.2801 12.15 20.0401 12.22 19.8001 12.27C19.5601 12.32 19.3401 12.34 19.1401 12.34C18.5001 12.34 17.9501 12.27 17.4801 12.12C17.0101 11.98 16.6101 11.79 16.2601 11.55C15.9101 11.31 15.6201 11.04 15.3701 10.74C15.1201 10.44 14.8901 10.13 14.6801 9.81001C14.4701 9.49001 14.2601 9.18001 14.0601 8.88001C13.8601 8.58001 13.6301 8.31001 13.3801 8.07001C13.1301 7.83001 12.8501 7.64001 12.5201 7.50001C12.2001 7.36001 11.8101 7.28001 11.3501 7.28001H11.1301V10.66C11.1301 10.82 11.1801 10.95 11.2801 11.05C11.3801 11.15 11.5101 11.2 11.6701 11.2H12.0901V11.21ZM12.7301 7.10001C13.0601 7.10001 13.3301 7.04001 13.5501 6.91001C13.7701 6.78001 13.9401 6.62001 14.0701 6.43001C14.2001 6.24001 14.2901 6.03001 14.3401 5.79001C14.3901 5.56001 14.4201 5.34001 14.4201 5.13001C14.4201 4.92001 14.3901 4.70001 14.3401 4.47001C14.2901 4.24001 14.2001 4.03001 14.0701 3.83001C13.9401 3.64001 13.7701 3.48001 13.5501 3.35001C13.3301 3.22001 13.0601 3.16001 12.7301 3.16001H11.1301V7.10001H12.7301ZM21.9401 8.96001H22.1001L21.7801 10.41H17.0401V10.25H17.4101C17.5501 10.25 17.6701 10.21 17.7601 10.12C17.8501 10.03 17.8901 9.92001 17.8901 9.77001V3.62001C17.8901 3.48001 17.8501 3.36001 17.7601 3.27001C17.6701 3.18001 17.5601 3.14001 17.4101 3.14001H17.0401V2.98001H21.7801L21.8901 4.12001H21.7301L21.6701 3.64001C21.6501 3.50001 21.6001 3.38001 21.5001 3.29001C21.4001 3.20001 21.2801 3.16001 21.1401 3.16001H18.7301V6.12001H20.9001C21.0401 6.12001 21.1601 6.08001 21.2501 5.99001C21.3401 5.90001 21.3801 5.79001 21.3801 5.64001V5.16001H21.5401V7.25001H21.3801V6.78001C21.3801 6.64001 21.3401 6.52001 21.2501 6.43001C21.1601 6.34001 21.0501 6.30001 20.9001 6.30001H18.7301V10.22H21.1401C21.2801 10.22 21.4101 10.18 21.5101 10.09C21.6101 10 21.6901 9.89001 21.7301 9.75001L21.9501 8.95001L21.9401 8.96001Z"
							fill="black"
						/>
						<path
							d="M24.3001 11.21V11.39H22.3101V11.21H22.6701C22.8301 11.21 22.9801 11.16 23.1101 11.07C23.2401 10.98 23.3401 10.85 23.3901 10.69L26.0301 2.99002H26.2201L28.9801 10.71C29.0401 10.86 29.1301 10.98 29.2601 11.08C29.3901 11.17 29.5401 11.22 29.7001 11.22H30.0601V11.4H27.3801V11.22H27.7301C27.8901 11.22 28.0001 11.17 28.0701 11.08C28.1401 10.99 28.1401 10.87 28.0901 10.71L27.3101 8.56002H24.3101L23.5801 10.7C23.5201 10.86 23.5301 10.99 23.6001 11.08C23.6701 11.17 23.7801 11.22 23.9401 11.22H24.3001V11.21ZM27.2501 8.38002L25.7701 4.28002L24.3701 8.38002H27.2501ZM25.8901 11.28H25.7701V11C25.7701 10.75 25.7001 10.55 25.5501 10.41C25.4001 10.26 25.2001 10.19 24.9601 10.19H24.6801V10.07H24.9601C25.2101 10.07 25.4101 10 25.5501 9.85002C25.7001 9.70002 25.7701 9.50002 25.7701 9.26002V9.00002H25.8901V9.26002C25.8901 9.51002 25.9601 9.71002 26.1101 9.85002C26.2601 9.99002 26.4601 10.07 26.7001 10.07H26.9601V10.19H26.7001C26.4501 10.19 26.2501 10.26 26.1101 10.41C25.9701 10.56 25.8901 10.76 25.8901 11V11.28Z"
							fill="black"
						/>
						<path
							d="M34.82 11.21V11.39H33.02C32.51 11.39 32.04 11.31 31.63 11.16C31.21 11 30.86 10.79 30.57 10.51C30.28 10.23 30.06 9.89002 29.9 9.50002C29.74 9.11002 29.67 8.67002 29.67 8.19002C29.67 7.60002 29.76 7.09002 29.95 6.66002C30.13 6.23002 30.38 5.88002 30.69 5.59002C31 5.31002 31.35 5.09002 31.76 4.94002C32.16 4.79002 32.59 4.71002 33.03 4.68002V3.17002H31.11C30.95 3.17002 30.82 3.22002 30.71 3.32002C30.6 3.42002 30.54 3.55002 30.52 3.71002L30.45 4.61002H30.27L30.39 2.99002H36.51L36.63 4.61002H36.45L36.38 3.71002C36.36 3.55002 36.3 3.42002 36.19 3.32002C36.08 3.22002 35.95 3.17002 35.79 3.17002H33.87V4.69002C34.37 4.75002 34.83 4.88002 35.25 5.10002C35.67 5.32002 36.05 5.59002 36.41 5.90002C36.77 6.21002 37.1 6.57002 37.42 6.95002C37.74 7.33002 38.05 7.72002 38.37 8.12002C38.69 8.52002 39.01 8.90002 39.34 9.27002C39.67 9.64002 40.02 9.97002 40.4 10.25C40.78 10.53 41.19 10.77 41.63 10.94C42.07 11.11 42.57 11.2 43.11 11.2C43.54 11.2 43.94 11.14 44.3 11.01C44.66 10.88 44.98 10.7 45.24 10.46C45.5 10.22 45.71 9.93002 45.86 9.58002C46.01 9.23002 46.08 8.83002 46.08 8.39002C46.08 7.99002 46.01 7.64002 45.86 7.33002C45.71 7.03002 45.52 6.78002 45.27 6.58002C45.03 6.38002 44.75 6.25002 44.43 6.17002C44.11 6.09002 43.79 6.07002 43.45 6.11002V5.93002C43.83 5.88002 44.2 5.91002 44.54 6.01002C44.88 6.11002 45.18 6.27002 45.43 6.48002C45.69 6.70002 45.89 6.96002 46.04 7.28002C46.19 7.60002 46.26 7.96002 46.26 8.36002C46.26 8.80002 46.19 9.21002 46.04 9.58002C45.89 9.95002 45.68 10.27 45.41 10.54C45.14 10.81 44.81 11.02 44.41 11.16C44.02 11.31 43.58 11.38 43.09 11.38C42.53 11.38 42.02 11.29 41.57 11.12C41.12 10.95 40.7 10.72 40.32 10.43C39.94 10.14 39.58 9.81002 39.25 9.45002C38.92 9.08002 38.6 8.70002 38.28 8.31002C37.96 7.92002 37.65 7.53002 37.34 7.15002C37.03 6.77002 36.7 6.42002 36.34 6.10002C35.99 5.78002 35.61 5.51002 35.21 5.30002C34.81 5.09002 34.36 4.94002 33.87 4.88002V10.66C33.87 10.82 33.92 10.95 34.02 11.05C34.12 11.15 34.25 11.2 34.41 11.2H34.83L34.82 11.21ZM33.02 4.86002C32.61 4.88002 32.22 4.97002 31.84 5.11002C31.46 5.25002 31.12 5.45002 30.83 5.72002C30.53 5.98002 30.3 6.32002 30.12 6.73002C29.94 7.14002 29.86 7.63002 29.86 8.19002C29.86 8.67002 29.94 9.10002 30.1 9.47002C30.26 9.84002 30.48 10.16 30.76 10.41C31.04 10.67 31.37 10.86 31.76 11C32.15 11.14 32.57 11.21 33.03 11.21V4.86002H33.02Z"
							fill="black"
						/>
						<path
							d="M39.79 11.21V11.39H37.03V11.21H37.45C37.61 11.21 37.74 11.16 37.84 11.06C37.94 10.96 37.99 10.83 37.99 10.67V3.71001C37.99 3.55001 37.94 3.42001 37.84 3.32001C37.74 3.22001 37.61 3.17001 37.45 3.17001H37.03V2.99001H39.79V3.17001H39.37C39.21 3.17001 39.08 3.22001 38.98 3.32001C38.88 3.42001 38.83 3.55001 38.83 3.71001V10.67C38.83 10.83 38.88 10.96 38.98 11.06C39.08 11.16 39.21 11.21 39.37 11.21H39.79ZM38.48 2.29001H38.36V2.01001C38.36 1.76001 38.29 1.56001 38.14 1.42001C37.99 1.28001 37.79 1.20001 37.55 1.20001H37.27V1.08001H37.55C37.8 1.08001 38 1.01001 38.14 0.86001C38.28 0.71001 38.36 0.51001 38.36 0.27001V0.0100098H38.48V0.27001C38.48 0.52001 38.55 0.72001 38.7 0.86001C38.85 1.00001 39.05 1.08001 39.29 1.08001H39.55V1.20001H39.29C39.04 1.20001 38.84 1.27001 38.7 1.42001C38.56 1.57001 38.48 1.77001 38.48 2.01001V2.29001Z"
							fill="black"
						/>
						<path
							d="M45.75 3.17001V2.99001H47.74V3.17001H47.38C47.22 3.17001 47.07 3.22001 46.94 3.31001C46.81 3.40001 46.71 3.53001 46.66 3.69001L44.02 11.39H43.83L41.07 3.67001C41.01 3.52001 40.92 3.40001 40.79 3.30001C40.66 3.21001 40.51 3.16001 40.35 3.16001H39.99V2.98001H42.67V3.16001H42.32C42.16 3.16001 42.05 3.21001 41.98 3.30001C41.91 3.39001 41.91 3.51001 41.96 3.67001L44.28 10.1L46.48 3.68001C46.54 3.52001 46.53 3.39001 46.46 3.30001C46.39 3.21001 46.28 3.16001 46.12 3.16001H45.76L45.75 3.17001Z"
							fill="black"
						/>
						<path
							d="M53.3801 9.77002H53.5601L53.2001 11.39H47.9401V11.21H48.3601C48.5201 11.21 48.6501 11.16 48.7501 11.06C48.8501 10.96 48.9001 10.83 48.9001 10.67V3.71002C48.9001 3.55002 48.8501 3.42002 48.7501 3.32002C48.6501 3.22002 48.5201 3.17002 48.3601 3.17002H47.9401V2.99002H53.2001L53.3201 4.25002H53.1401L53.0801 3.71002C53.0601 3.55002 53.0001 3.42002 52.8901 3.32002C52.7801 3.22002 52.6401 3.17002 52.4801 3.17002H49.7401V6.55002H52.2001C52.3601 6.55002 52.4901 6.50002 52.5901 6.40002C52.6901 6.30002 52.7401 6.17002 52.7401 6.01002V5.47002H52.9201V7.81002H52.7401V7.27002C52.7401 7.11002 52.6901 6.98002 52.5901 6.88002C52.4901 6.78002 52.3601 6.73002 52.2001 6.73002H49.7401V11.21H52.4801C52.6401 11.21 52.7801 11.16 52.9001 11.07C53.0201 10.97 53.1001 10.85 53.1401 10.69L53.3801 9.78002V9.77002ZM51.6001 10.21H51.4801V9.93002C51.4801 9.68002 51.4101 9.48002 51.2601 9.34002C51.1101 9.20002 50.9101 9.12002 50.6701 9.12002H50.3901V9.00002H50.6701C50.9201 9.00002 51.1201 8.93002 51.2601 8.78002C51.4001 8.63002 51.4801 8.43002 51.4801 8.19002V7.93002H51.6001V8.19002C51.6001 8.44002 51.6701 8.64002 51.8201 8.78002C51.9701 8.93002 52.1701 9.00002 52.4101 9.00002H52.6701V9.12002H52.4101C52.1601 9.12002 51.9601 9.19002 51.8201 9.34002C51.6701 9.49002 51.6001 9.69002 51.6001 9.93002V10.21Z"
							fill="black"
						/>
					</g>
					<defs>
						<clipPath id="clip0_17_25">
							<rect width="53.56" height="12.89" fill="white" />
						</clipPath>
					</defs>
				</svg> -->
			</span>
			<span>developer</span>
		</h2>

		<!-- <svg width="1em" height="1em" viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M32.2 49.9H3.60001L51.9 1.60001L50.4 0.100006L2.10001 48.4V19.8H0.100006V51.9H32.2V49.9Z" />
</svg> -->
	</div>

	<!-- <div class="flex flex-col gap-4"> -->
	{#each projects as project, i}
		{@const isEven = i % 2 === 0}
		<div class={['flex flex-col gap-6 md:flex-row', isEven && 'justify-end']}>
			<Anchor href={project.link} class="w-full md:w-1/2 lg:w-1/3">
				<ImagePlane
					class="h-full w-full object-cover"
					src={project.thumbnail}
					alt={project.title}
					shader={({ texture, meshAspect, textureAspect, textureMask, meshMask }) => {
						// saturation
						return {
							uvNode: fitCover({ meshAspect, textureAspect }),
							colorNode: saturation(texture, 0)
						};
					}}
				/>
			</Anchor>
			<ProjectText {project} {isEven} />
		</div>
	{/each}
	<!-- </div> -->
	</section>

	<section class="flex flex-col my-48 gap-y-12 items-center">
		<div class="flex flex-col gap-y-2 items-center">
			<p class={fontSizeHeading}>Got a project ?</p>
			<p class="flex flex-wrap items-end gap-x-2 {fontSizeHeading}">
				<span class="whitespace-nowrap">I got</span>
				<span class="flex items-center h-[1em] mt-2 -mr-[1em]"><img class="w-[4.5em] -mt-[0.7em]" src={ideasSrc} /></span>
			</p>
		</div>
		<OverflowMarquee>
			<p>contact@madebyquent.in</p>

			{#snippet separator()}
				<span class='mx-2'><img class='h-[0.65em]' src='{starSrc}'/></span>
			{/snippet}
		</OverflowMarquee>
		<!-- Contact&nbsp;<span class="flex h-[1em] items-center"><img src={meSrc} class="w-[2.15em] -mt-[0.15em]" /></span> -->
	</section>
